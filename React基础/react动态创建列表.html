<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
    <meta name="viewport" content="initial-scale=1, maximum-scale=1, user-scalable=no, width=device-width">
    <title>Title</title>
    <script src="../lib/react.js" charset="utf-8"></script>
    <script src="../lib/react-dom.js" charset="utf-8"></script>
    <script src="../lib/browser.min.js" charset="utf-8"></script>
    <script type="text/babel">
    class Item extends React.Component{
      constructor(...args){
        super(...args);
      }
      render(){
        return <li>{this.props.value}</li>;
      }
    }

    class List extends React.Component{
      constructor(...args){
        super(...args);
        this.state={arr: [4, 7, 1, 4]};
      }
      fn(){
        this.setState({
          arr: this.state.arr.concat([Math.random()*10])
        });
      }
      render(){
        var result=[];
        var arr=this.state.arr;
        for(var i=0;i<arr.length;i++){
          result.push(<Item key={i} value={arr[i]}/>);
        }
        return <div>
          <input type="button" value="按钮" onClick={this.fn.bind(this)} />
          <ul>{result}</ul>
        </div>;
      }
    }
    window.onload=function (){
      var oDiv=document.getElementById('div1');

      ReactDOM.render(
        <List />,
        oDiv
      );
    }
    </script>
  </head>
  <body>
    <div id="div1">

    </div>
  </body>
</html>
